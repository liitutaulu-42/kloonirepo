{% extends "layout.html" %}

{% block title %}Lähdeviiteohjelma{% endblock %}
{% block body %}

<h1>Lähdeviiteohjelma</h1>

{% with viestit = get_flashed_messages() %}
  {% if viestit %}
    {% for viesti in viestit %}
    <b>{{ viesti }}</b>
    {% endfor %}
  {% endif %}
{% endwith %}

<aside>
  <table>
    <tr>
      <th>Liite</th>
      <th>Koodi</th>
      <th>Kirjoittaja</th>
      <th>Otsikko</th>
      <th>Julkaisu</th>
      <th>Vuosi</th>
      <th>Kuukausi</th>
      <th>Vuosikerta</th>
      <th>Julkaisuluku</th>
      <th>Sivut</th>
      <th>Muuta tietoa</th>
    </tr>
    {% for key, author, title, journal, year, month, volume, number, pages, note in article_content %}
    <tr>
      <td>Artikkeli</td>
      <td>{{ key }}</td>
      <td>{{ author }}</td>
      <td>{{ title }}</td>
      <td>{{ journal }}</td>
      <td>{{ year }}</td>
      <td>{{ month }}</td>
      <td>{{ volume }}</td>
      <td>{{ number }}</td>
      <td>{{ pages }}</td>
      <td>{{ note }}</td>
    </tr>
    {% endfor %}
    <tr>
      <th>Liite</th>
      <th>Koodi</th>
      <th>Kirjoittaja</th>
      <th>Otsikko</th>
      <th>Julkaisu</th>
      <th>Vuosi</th>
      <th>Osoite</th>
    </tr>
    {% for key, author, title, publisher,year,address in book_content %}
    <tr>
      <td>Kirja</td>
      <td>{{ key }}</td>
      <td>{{ author }}</td>
      <td>{{ title }}</td>
      <td>{{ publisher }}</td>
      <td>{{ year }}</td>
      <td>{{ address }}</td>
    </tr>
    {% endfor %}
  </table>

</aside>

<br>

<h2>Lisää uusi viite</h2>
<form action="/form" method="get">
  <label for="form-selector">Valitse viitetyyppi:</label>
    <select id="form-selector" name="type">
      <option value="article">Artikkeli</option>
      <option value="book">Kirja</option>
    </select>
    <button type="submit">Siirry lomakkeelle</button>
  </div>
</form>

<br>

<h2>Lataa viitteet BibTeX-tiedostona</h2>
<form action="/bibtex" method="get">
  <button type="submit">Lataa BibTeX</button>
</form>

<br>

<form action="/delete-form" method="get">
  <button type="submit">Poista liitteitä</button>
</form>

{% endblock %}
