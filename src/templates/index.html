{% extends "layout.html" %}

{% block title %}Lähdeviiteohjelma{% endblock %}
{% block body %}

<h1>Lähdeviiteohjelma</h1>

{% with viestit = get_flashed_messages() %}
  {% if viestit %}
    {% for viesti in viestit %}
    <b>{{ viesti }}</b>
    {% endfor %}
  {% endif %}
{% endwith %}

<aside>
  <div class="rullaava-lista">
    <div class="rivi">
      <div class="sarake">Liite</div>
      <div class="sarake">Koodi</div>
      <div class="sarake">Kirjoittaja</div>
      <div class="sarake">Otsikko</div>
      <div class="sarake">Julkaisu</div>
      <div class="sarake">Vuosi</div>
    </div>
      {% for key, author, journal, title, year   in content %}
    <div class="rivi">
      <div class="sarake">Artikkeli</div>
      <div class="sarake">{{ key }}</div>
      <div class="sarake">{{ author }}</div>
      <div class="sarake">{{ title }}</div>
      <div class="sarake">{{ journal }}</div>
      <div class="sarake">{{ year }}</div>
    </div>
      {% endfor %}
  </div>
</aside>

<br>

<h2>Lisää uusi viite</h2>
<form action="/form" method="get">
  <label for="form-selector">Valitse viitetyyppi:</label>
    <select id="form-selector" name="type">
      <option value="article">Artikkeli</option>
      <option value="book">Kirja</option>
    </select>
    <button type="submit">Siirry lomakkeelle</button>
  </div>
</form>

<br>

<h2>Lataa viitteet BibTeX-tiedostona</h2>
<form action="/bibtex" method="get">
  <button type="submit">Lataa BibTeX</button>
</form>

<br>

<form action="/delete-form" method="get">
  <button type="submit">Poista liitteitä</button>
</form>

{% endblock %}
