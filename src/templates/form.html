{% extends "layout.html" %}

{% block title %}Lisää viite{% endblock %}
{% block body %}

{% with viestit = get_flashed_messages() %}
  {% if viestit %}
    {% for viesti in viestit %}
    <b>{{ viesti }}</b>
    {% endfor %}
  {% endif %}
{% endwith %}

<aside>
  <table>
    <tr>
      <th>Viite</th>
      <th>Koodi</th>
      <th>Kirjoittaja</th>
      <th>Otsikko</th>
      <th>Julkaisu</th>
      <th>Vuosi</th>
      <th>Kuukausi</th>
      <th>Vuosikerta</th>
      <th>Julkaisuluku</th>
      <th>Sivut</th>
      <th>Muuta tietoa</th>
    </tr>
    {% for key, author, title, journal, year, month, volume, number, pages, note in article_content %}
    <tr>
      <td>Artikkeli</td>
      <td>{{ key }}</td>
      <td>{{ author }}</td>
      <td>{{ title }}</td>
      <td>{{ journal }}</td>
      <td>{{ year }}</td>
      <td>{{ month }}</td>
      <td>{{ volume }}</td>
      <td>{{ number }}</td>
      <td>{{ pages }}</td>
      <td>{{ note }}</td>
    </tr>
    {% endfor %}
    <tr>
      <th>Viite</th>
      <th>Koodi</th>
      <th>Kirjoittaja</th>
      <th>Otsikko</th>
      <th>Julkaisu</th>
      <th>Vuosi</th>
      <th>Osoite</th>
    </tr>
    {% for key, author, title, publisher,year,address in book_content %}
    <tr>
      <td>Kirja</td>
      <td>{{ key }}</td>
      <td>{{ author }}</td>
      <td>{{ title }}</td>
      <td>{{ publisher }}</td>
      <td>{{ year }}</td>
      <td>{{ address }}</td>
    </tr>
    {% endfor %}
  </table>
</aside>

<div id="form-container">
  {% if form_type == "article" %}
    {% include 'article_form.html' %}
  {% elif form_type == "book" %}
    {% include 'book_form.html' %}
  {% endif %}
</div>

{% endblock %}
